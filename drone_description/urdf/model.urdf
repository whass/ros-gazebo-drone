<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from quadrotor.xacro                | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="HummingBird" xmlns:controller="http://playerstage.sourceforge.net/gazebo/xmlschema/#controller" xmlns:sensor="http://playerstage.sourceforge.net/gazebo/xmlschema/#sensor" xmlns:xacro="http://www.ros.org/wiki/xacro">
  <!-- 
     At this time the robot name is used as prefix for the ros nodes.
     Common ROS msgs are used (or, to say better, abused...) in order
     to maintain the largest compatibility.
     
     This robot will subscribe the following nodes, according to the
     selected control input
        /${model_name}/input/position   (if <selectInput>position</selectInput>)
          this is a six value vector (geometry_msgs/Twist) containing current
          and desired position coordinates (x, y, z, x_des, y_des, z_des).
          You can test this type of input by executing rotopic on a terminal:
          rostopic pub /quad1/input/position geometry_msgs/Twist
          '{linear: {x: X_CUR, y: Y_CUR, z: Z_CUR}, angular: {x: X_DES, y: X_DES, z: Z_DES}}'
          
        /${model_name}/input/torques    (if <selectInput>torques</selectInput>)
          this is a four value vector (geometry_msgs/Quaternion) containing
          torques and thrust references (tx, ty, tz, T)
          
        /${model_name}/input/actual     (if <selectInput>actual</selectInput>)
          this is a four value vector (geometry_msgs/Quaternion) containing 
          angles and thrust references (roll, pitch, \dot{yaw}, T)
        
        /${model_name}/input/serial     (if <selectInput>serial</selectInput>)
          this is a std::string formatted according to AscTec HummingBird serial
          communication protocol modified by Sapienza DIIAG LabRob
-->
  <!-- GENERAL MACROS -->
  <!-- MODEL (GEOMETRICAL) MACROS -->
  <!-- MODEL (PHYSICAL) MACROS -->
  <!-- MODEL (INERTIAL) MACROS -->
  <!-- GAZEBO REFERENCES (FIX THESE) -->
  <material name="body_color">
    <color rgba=".1 .1 .1 1.0"/>
  </material>
  <gazebo reference="base_link">
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="arm1">
    <material>Gazebo/Red</material>
  </gazebo>
  <gazebo reference="arm2">
    <material>Gazebo/Red</material>
  </gazebo>
  <gazebo reference="arm3">
    <material>Gazebo/Red</material>
  </gazebo>
  <gazebo reference="arm4">
    <material>Gazebo/Red</material>
  </gazebo>
  <gazebo reference="motor1">
    <material>Gazebo/Blue</material>
  </gazebo>
  <gazebo reference="motor2">
    <material>Gazebo/Blue</material>
  </gazebo>
  <gazebo reference="motor3">
    <material>Gazebo/Blue</material>
  </gazebo>
  <gazebo reference="motor4">
    <material>Gazebo/Blue</material>
  </gazebo>
  <gazebo reference="propeller1">
    <material>Gazebo/Red</material>
  </gazebo>
  <gazebo reference="propeller2">
    <material>Gazebo/Blue</material>
  </gazebo>
  <gazebo reference="propeller3">
    <material>Gazebo/Green</material>
  </gazebo>
  <gazebo reference="propeller4">
    <material>Gazebo/White</material>
  </gazebo>
  <!-- ACTUAL ROBOT DESCRIPTION -->
  <link name="base_link">
    <visual>
      <geometry>
        <box size="0.08 0.08 0.08"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <material name="body_color"/>
    </visual>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <mass value="0.3"/>
      <inertia ixx="1e-5" ixy="1e-10" ixz="1e-10" iyy="1e-5" iyz="1e-10" izz="1e-5"/>
    </inertial>
    <collision>
      <geometry>
        <box size="0.08 0.08 0.08"/>
      </geometry>
    </collision>
  </link>
  <!-- IMU Sensor Plugin -->
  <gazebo>
    <plugin filename="libgazebo_ros_imu.so" name="imu_plugin">
      <alwaysOn>true</alwaysOn>
      <bodyName>base_link</bodyName>
      <topicName>imu_data</topicName>
      <serviceName>imu_service</serviceName>
      <gaussianNoise>0.0</gaussianNoise>
      <updateRate>10.0</updateRate>
    </plugin>
  </gazebo>
  <link name="arm1">
    <visual>
      <origin rpy="0 0 0" xyz="-0.12 0 0"/>
      <geometry>
        <box size="0.16 0.005 0.01"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="0.03"/>
      <inertia ixx="1e-5" ixy="0" ixz="0" iyy="1e-5" iyz="0" izz="1e-5"/>
    </inertial>
    <collision>
      <geometry>
        <box size="0.16 0.005 0.01"/>
      </geometry>
    </collision>
  </link>
  <link name="motor1">
    <inertial>
      <mass value="0.05"/>
      <inertia ixx="1e-5" ixy="0" ixz="0" iyy="1e-5" iyz="0" izz="1e-5"/>
    </inertial>
    <visual>
      <geometry>
        <cylinder length="0.01" radius="0.0127"/>
      </geometry>
      <material name="Cyan">
        <color rgba="0 0 1.0 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.01" radius="0.0127"/>
      </geometry>
    </collision>
  </link>
  <link name="propeller1">
    <inertial>
      <mass value="0.002"/>
      <inertia ixx="1e-5" ixy="0" ixz="0" iyy="1e-5" iyz="0" izz="1e-5"/>
    </inertial>
    <visual>
      <geometry>
        <box size="0.18 0.005 0.001"/>
      </geometry>
      <material name="Cyan"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.18 0.005 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="body_arm1" type="fixed">
    <origin rpy="0 0 3.14159265359" xyz="0 0 0"/>
    <parent link="base_link"/>
    <child link="arm1"/>
  </joint>
  <joint name="arm_motor1" type="continuous">
    <origin rpy="0 0 0" xyz="-0.20 0 0.01"/>
    <axis xyz="0 0 1"/>
    <parent link="arm1"/>
    <child link="motor1"/>
  </joint>
  <joint name="motor_prop1" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.005"/>
    <parent link="motor1"/>
    <child link="propeller1"/>
  </joint>
  <link name="arm2">
    <visual>
      <origin rpy="0 0 0" xyz="-0.12 0 0"/>
      <geometry>
        <box size="0.16 0.005 0.01"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="0.03"/>
      <inertia ixx="1e-5" ixy="0" ixz="0" iyy="1e-5" iyz="0" izz="1e-5"/>
    </inertial>
    <collision>
      <geometry>
        <box size="0.16 0.005 0.01"/>
      </geometry>
    </collision>
  </link>
  <link name="motor2">
    <inertial>
      <mass value="0.05"/>
      <inertia ixx="1e-5" ixy="0" ixz="0" iyy="1e-5" iyz="0" izz="1e-5"/>
    </inertial>
    <visual>
      <geometry>
        <cylinder length="0.01" radius="0.0127"/>
      </geometry>
      <material name="Cyan">
        <color rgba="0 0 1.0 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.01" radius="0.0127"/>
      </geometry>
    </collision>
  </link>
  <link name="propeller2">
    <inertial>
      <mass value="0.002"/>
      <inertia ixx="1e-5" ixy="0" ixz="0" iyy="1e-5" iyz="0" izz="1e-5"/>
    </inertial>
    <visual>
      <geometry>
        <box size="0.18 0.005 0.001"/>
      </geometry>
      <material name="Cyan"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.18 0.005 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="body_arm2" type="fixed">
    <origin rpy="0 0 4.71238898038" xyz="0 0 0"/>
    <parent link="base_link"/>
    <child link="arm2"/>
  </joint>
  <joint name="arm_motor2" type="continuous">
    <origin rpy="0 0 0" xyz="-0.20 0 0.01"/>
    <axis xyz="0 0 1"/>
    <parent link="arm2"/>
    <child link="motor2"/>
  </joint>
  <joint name="motor_prop2" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.005"/>
    <parent link="motor2"/>
    <child link="propeller2"/>
  </joint>
  <link name="arm3">
    <visual>
      <origin rpy="0 0 0" xyz="-0.12 0 0"/>
      <geometry>
        <box size="0.16 0.005 0.01"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="0.03"/>
      <inertia ixx="1e-5" ixy="0" ixz="0" iyy="1e-5" iyz="0" izz="1e-5"/>
    </inertial>
    <collision>
      <geometry>
        <box size="0.16 0.005 0.01"/>
      </geometry>
    </collision>
  </link>
  <link name="motor3">
    <inertial>
      <mass value="0.05"/>
      <inertia ixx="1e-5" ixy="0" ixz="0" iyy="1e-5" iyz="0" izz="1e-5"/>
    </inertial>
    <visual>
      <geometry>
        <cylinder length="0.01" radius="0.0127"/>
      </geometry>
      <material name="Cyan">
        <color rgba="0 0 1.0 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.01" radius="0.0127"/>
      </geometry>
    </collision>
  </link>
  <link name="propeller3">
    <inertial>
      <mass value="0.002"/>
      <inertia ixx="1e-5" ixy="0" ixz="0" iyy="1e-5" iyz="0" izz="1e-5"/>
    </inertial>
    <visual>
      <geometry>
        <box size="0.18 0.005 0.001"/>
      </geometry>
      <material name="Cyan"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.18 0.005 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="body_arm3" type="fixed">
    <origin rpy="0 0 6.28318530718" xyz="0 0 0"/>
    <parent link="base_link"/>
    <child link="arm3"/>
  </joint>
  <joint name="arm_motor3" type="continuous">
    <origin rpy="0 0 0" xyz="-0.20 0 0.01"/>
    <axis xyz="0 0 1"/>
    <parent link="arm3"/>
    <child link="motor3"/>
  </joint>
  <joint name="motor_prop3" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.005"/>
    <parent link="motor3"/>
    <child link="propeller3"/>
  </joint>
  <link name="arm4">
    <visual>
      <origin rpy="0 0 0" xyz="-0.12 0 0"/>
      <geometry>
        <box size="0.16 0.005 0.01"/>
      </geometry>
    </visual>
    <inertial>
      <mass value="0.03"/>
      <inertia ixx="1e-5" ixy="0" ixz="0" iyy="1e-5" iyz="0" izz="1e-5"/>
    </inertial>
    <collision>
      <geometry>
        <box size="0.16 0.005 0.01"/>
      </geometry>
    </collision>
  </link>
  <link name="motor4">
    <inertial>
      <mass value="0.05"/>
      <inertia ixx="1e-5" ixy="0" ixz="0" iyy="1e-5" iyz="0" izz="1e-5"/>
    </inertial>
    <visual>
      <geometry>
        <cylinder length="0.01" radius="0.0127"/>
      </geometry>
      <material name="Cyan">
        <color rgba="0 0 1.0 1.0"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.01" radius="0.0127"/>
      </geometry>
    </collision>
  </link>
  <link name="propeller4">
    <inertial>
      <mass value="0.002"/>
      <inertia ixx="1e-5" ixy="0" ixz="0" iyy="1e-5" iyz="0" izz="1e-5"/>
    </inertial>
    <visual>
      <geometry>
        <box size="0.18 0.005 0.001"/>
      </geometry>
      <material name="Cyan"/>
    </visual>
    <collision>
      <geometry>
        <box size="0.18 0.005 0.001"/>
      </geometry>
    </collision>
  </link>
  <joint name="body_arm4" type="fixed">
    <origin rpy="0 0 7.85398163397" xyz="0 0 0"/>
    <parent link="base_link"/>
    <child link="arm4"/>
  </joint>
  <joint name="arm_motor4" type="continuous">
    <origin rpy="0 0 0" xyz="-0.20 0 0.01"/>
    <axis xyz="0 0 1"/>
    <parent link="arm4"/>
    <child link="motor4"/>
  </joint>
  <joint name="motor_prop4" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.005"/>
    <parent link="motor4"/>
    <child link="propeller4"/>
  </joint>
  <!-- Arm with motor and propeller macro -->
  <!-- End of arm macro -->
  <!-- Arm sub-macros -->
  <!-- Arm macro -->
  <!-- Motor macro -->
  <!-- Propeller macro -->
  <!-- End of arm sub-macros -->
  <!-- Generic simulator_gazebo plugins -->
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="gazebo_ros_control">
      <ns/>
      <robotSimType>drone_controller_gazebo/DroneControllerGazebo</robotSimType>
      <controlPeriod>0.001</controlPeriod>
    </plugin>
  </gazebo>
</robot>
